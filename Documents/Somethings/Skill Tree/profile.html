<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>SkillForge - Namana Kanchan's Profile</title>
<link href="https://fonts.googleapis.com/css2?family=Bangers&family=Permanent+Marker&family=Oswald:wght@400;600;700&family=DM+Sans:ital,wght@0,300;0,400;0,500;1,300&display=swap" rel="stylesheet">
<script src="https://d3js.org/d3.v7.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
<style>
:root {
  --bg:     #F5F0E8;
  --ink:    #1A1A1A;
  --red:    #E63B3B;
  --yellow: #F5C842;
  --purple: #5C3FB0;
  --blue:   #1A7FC2;
  --green:  #2A9B7A;
  --panel:  #FEFAF0;
  --border: 3px solid #1A1A1A;
}

*, *::before, *::after { margin:0; padding:0; box-sizing:border-box; }
html { scroll-behavior:auto; }
body {
  background: var(--bg);
  font-family: 'DM Sans', sans-serif;
  overflow-x: hidden;
  cursor: none;
}

/* â”€â”€ CURSOR â”€â”€ */
#cur {
  position: fixed; z-index: 9999; pointer-events: none;
  width: 20px; height: 20px;
  transform: translate(-50%,-50%);
  transition: transform .15s;
}
body.hov #cur { transform: translate(-50%,-50%) scale(1.8); }

/* â”€â”€ PAGE EDGE â”€â”€ */
.page-edge {
  height: 6px;
  background: repeating-linear-gradient(90deg,
    var(--red) 0, var(--red) 40px,
    var(--yellow) 40px, var(--yellow) 80px,
    var(--ink) 80px, var(--ink) 120px
  );
}

/* â”€â”€ NAV â”€â”€ */
nav {
  background: var(--ink);
  display: flex; justify-content: space-between; align-items: center;
  padding: .9rem 2.5rem;
  border-bottom: var(--border);
  position: sticky; top: 0; z-index: 200;
}
.logo {
  font-family: 'Bangers', cursive;
  font-size: 1.7rem; letter-spacing: 3px;
  color: var(--yellow); text-shadow: 2px 2px 0 var(--red);
  text-decoration: none;
}
.nav-r { display: flex; gap: 1.5rem; align-items: center; }
.nav-r a {
  font-family: 'Oswald', sans-serif;
  font-size: .68rem; letter-spacing: 2px; text-transform: uppercase;
  color: rgba(245,240,232,.35); text-decoration: none;
  transition: color .2s; cursor: none;
}
.nav-r a:hover { color: var(--yellow); }
.nav-btn {
  font-family: 'Bangers', cursive; font-size: 1rem; letter-spacing: 2px;
  background: var(--red); color: white; border: 2px solid var(--bg);
  padding: .35rem 1.2rem; cursor: none;
  box-shadow: 3px 3px 0 var(--yellow);
  transition: transform .15s, box-shadow .15s;
}
.nav-btn:hover { transform: translate(-2px,-2px); box-shadow: 5px 5px 0 var(--yellow); }

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   MANGA LAYOUT WRAPPER
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.manga-page {
  max-width: 1200px;
  margin: 0 auto;
  padding: 2rem;
  display: flex; flex-direction: column; gap: 0;
}

/* PANEL base */
.panel {
  border: var(--border);
  position: relative; overflow: hidden;
  background: var(--panel);
}
.panel + .panel { border-top: none; }

/* Screentone dot */
.st::after {
  content: '';
  position: absolute; inset: 0;
  background-image: radial-gradient(circle, rgba(26,26,26,.1) 1px, transparent 1px);
  background-size: 7px 7px;
  pointer-events: none; z-index: 0;
}
/* Speed lines */
.sl-bg {
  position: absolute; inset: -50%;
  background: repeating-conic-gradient(from 0deg at 50% 50%,
    transparent 0deg, transparent 2deg,
    rgba(26,26,26,.03) 2deg, rgba(26,26,26,.03) 2.3deg
  );
  pointer-events: none; z-index: 0;
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   TOP â€” CHARACTER HEADER PANEL
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.profile-header {
  display: grid;
  grid-template-columns: auto 1fr auto;
  gap: 0;
  border: var(--border);
  background: var(--ink);
  position: relative; overflow: hidden;
}
.ph-left {
  padding: 2.5rem 2rem;
  border-right: var(--border);
  display: flex; flex-direction: column; align-items: center; gap: 1rem;
  position: relative; z-index: 2; min-width: 180px;
}

/* Avatar â€” manga style with ink border */
.avatar-wrap { position: relative; }
.avatar {
  width: 100px; height: 100px; border-radius: 50%;
  background: linear-gradient(135deg, var(--red), var(--purple));
  border: 4px solid var(--yellow);
  box-shadow: 5px 5px 0 var(--ink), 5px 5px 0 2px var(--yellow);
  display: flex; align-items: center; justify-content: center;
  font-family: 'Bangers', cursive; font-size: 2.2rem; letter-spacing: 2px;
  color: white;
}
.avatar-badge {
  position: absolute; bottom: -4px; right: -4px;
  font-family: 'Bangers', cursive; font-size: .75rem; letter-spacing: 1px;
  background: var(--yellow); color: var(--ink);
  border: 2px solid var(--ink); padding: .1rem .5rem;
}
.online-dot {
  width: 10px; height: 10px; border-radius: 50%;
  background: #4CAF50; border: 2px solid var(--ink);
  position: absolute; top: 4px; right: 4px;
  animation: blink 2s step-end infinite;
}
@keyframes blink { 0%,100%{opacity:1} 50%{opacity:.3} }

.ph-rank {
  font-family: 'Bangers', cursive; font-size: .75rem; letter-spacing: 3px;
  background: var(--red); color: white;
  padding: .15rem .8rem; border: 2px solid var(--yellow);
  text-align: center;
}

.ph-mid {
  padding: 2rem 2.5rem;
  display: flex; flex-direction: column; justify-content: center;
  position: relative; z-index: 2;
}
.ph-mid .sl-bg { opacity: .15; }

.profile-name {
  font-family: 'Bangers', cursive;
  font-size: clamp(2.5rem, 5vw, 4.5rem);
  letter-spacing: 3px; line-height: .95;
  color: white; text-shadow: 4px 4px 0 var(--red);
}
.profile-title {
  font-family: 'Oswald', sans-serif;
  font-size: .75rem; font-weight: 700; letter-spacing: 3px;
  text-transform: uppercase; color: var(--yellow);
  margin-top: .5rem; margin-bottom: 1.2rem;
}
.profile-bio {
  font-family: 'Permanent Marker', cursive;
  font-size: .8rem; line-height: 1.6;
  color: rgba(245,240,232,.5); max-width: 500px;
}

/* STAT BARS */
.stat-bars { display: flex; flex-direction: column; gap: .5rem; margin-top: 1.2rem; }
.bar-row { display: flex; align-items: center; gap: .75rem; }
.bar-label {
  font-family: 'Oswald', sans-serif; font-size: .62rem; font-weight: 700;
  letter-spacing: 1.5px; text-transform: uppercase;
  color: rgba(245,240,232,.4); width: 60px; flex-shrink: 0;
}
.bar-track {
  flex: 1; height: 8px;
  background: rgba(245,240,232,.08); border: 1.5px solid rgba(245,240,232,.1);
  position: relative; overflow: hidden;
}
.bar-fill {
  height: 100%; position: absolute; left: 0; top: 0;
  transition: width 1.2s cubic-bezier(.34,1.56,.64,1);
}
.bar-val {
  font-family: 'Bangers', cursive; font-size: .75rem; letter-spacing: 1px;
  color: var(--yellow); width: 28px; text-align: right; flex-shrink: 0;
}

.ph-right {
  border-left: var(--border);
  padding: 2rem;
  display: flex; flex-direction: column; justify-content: space-between;
  min-width: 200px; position: relative; z-index: 2;
}
.ph-stat {
  text-align: center;
  padding: 1rem;
  border-bottom: 1px solid rgba(245,240,232,.07);
}
.ph-stat:last-child { border-bottom: none; }
.ph-stat-n {
  font-family: 'Bangers', cursive; font-size: 2.2rem; letter-spacing: 2px;
  color: var(--yellow); display: block; line-height: 1;
}
.ph-stat-l {
  font-family: 'Oswald', sans-serif; font-size: .6rem; font-weight: 700;
  letter-spacing: 2px; text-transform: uppercase;
  color: rgba(245,240,232,.25);
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   MAIN CONTENT â€” 2 COL GRID
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.content-grid {
  display: grid;
  grid-template-columns: 1fr 340px;
  gap: 0;
  border: var(--border);
  border-top: none;
}

/* â”€â”€ LEFT: SKILL TREE PANEL â”€â”€ */
.tree-panel {
  border-right: var(--border);
  background: var(--ink);
  position: relative;
  min-height: 600px;
}
.tree-panel-header {
  display: flex; justify-content: space-between; align-items: center;
  padding: 1rem 1.5rem;
  border-bottom: var(--border);
  background: var(--ink);
  position: relative; z-index: 10;
}
.tree-panel-title {
  font-family: 'Bangers', cursive; font-size: 1.2rem; letter-spacing: 3px;
  color: var(--yellow); text-shadow: 2px 2px 0 var(--red);
}
.tree-controls { display: flex; gap: .6rem; align-items: center; }
.ctrl-btn {
  font-family: 'Bangers', cursive; font-size: .75rem; letter-spacing: 1.5px;
  padding: .3rem .9rem;
  border: 2px solid; cursor: none;
  transition: transform .15s, box-shadow .15s;
}
.ctrl-btn.add { background: var(--yellow); color: var(--ink); border-color: var(--yellow); box-shadow: 2px 2px 0 var(--ink); }
.ctrl-btn.add:hover { transform: translate(-1px,-1px); box-shadow: 4px 4px 0 var(--ink); }
.ctrl-btn.connect { background: transparent; color: var(--yellow); border-color: var(--yellow); }
.ctrl-btn.connect.active { background: var(--yellow); color: var(--ink); }
.ctrl-btn.reset { background: transparent; color: rgba(245,240,232,.3); border-color: rgba(245,240,232,.15); }
.ctrl-btn.reset:hover { border-color: var(--red); color: var(--red); }

/* hint text */
.tree-hint {
  position: absolute; bottom: 1rem; left: 50%; transform: translateX(-50%);
  font-family: 'Permanent Marker', cursive; font-size: .72rem;
  color: rgba(245,240,232,.2); z-index: 10; white-space: nowrap;
  pointer-events: none;
}

/* D3 SVG */
#treesvg {
  width: 100%; height: 560px; display: block;
  cursor: none;
}
/* D3 node styles */
.d3-link {
  stroke: rgba(245,240,232,.15);
  stroke-width: 2px;
  transition: stroke .3s;
}
.d3-link.highlighted { stroke: var(--yellow); stroke-width: 3px; }

.d3-node { cursor: none; }
.d3-node circle {
  stroke: var(--ink); stroke-width: 3px;
  transition: filter .2s, r .2s;
  cursor: none;
}
.d3-node:hover circle { filter: drop-shadow(0 0 10px rgba(245,240,232,.5)); }
.d3-node.selected circle { stroke: var(--yellow); stroke-width: 4px; filter: drop-shadow(0 0 12px rgba(245,200,66,.8)); }
.d3-node.connecting circle { stroke: var(--red); stroke-width: 4px; animation: pulseRed 1s ease-in-out infinite; }
@keyframes pulseRed { 0%,100%{filter:drop-shadow(0 0 6px rgba(230,59,59,.6))} 50%{filter:drop-shadow(0 0 14px rgba(230,59,59,.9))} }

.d3-label {
  font-family: 'Oswald', sans-serif; font-size: 10px; font-weight: 700;
  fill: white; text-anchor: middle; dominant-baseline: middle;
  pointer-events: none; letter-spacing: .5px;
}
.d3-level {
  font-family: 'Bangers', cursive; font-size: 9px;
  fill: rgba(245,240,232,.6); text-anchor: middle;
  pointer-events: none; letter-spacing: 1px;
}
/* Vouch count badge */
.d3-vouch {
  font-family: 'Bangers', cursive; font-size: 8px;
  fill: var(--ink); text-anchor: middle; dominant-baseline: middle;
  pointer-events: none;
}

/* â”€â”€ RIGHT: SIDEBAR PANELS â”€â”€ */
.sidebar { display: flex; flex-direction: column; }

.side-panel {
  border-bottom: var(--border);
  padding: 1.5rem;
  position: relative; overflow: hidden;
}
.side-panel:last-child { border-bottom: none; }

.side-panel-title {
  font-family: 'Bangers', cursive; font-size: 1rem; letter-spacing: 3px;
  color: var(--ink); text-shadow: 1.5px 1.5px 0 var(--yellow);
  margin-bottom: 1.2rem; display: flex; align-items: center; gap: .6rem;
}
.side-panel-title::before { content: 'â–¶'; font-size: .5rem; color: var(--red); }

/* Skill list */
.skill-list { display: flex; flex-direction: column; gap: .6rem; }
.skill-item {
  display: flex; align-items: center; gap: .75rem;
  padding: .6rem .8rem;
  border: 2px solid rgba(26,26,26,.06);
  background: white;
  transition: transform .2s, border-color .2s, box-shadow .2s;
  cursor: none;
}
.skill-item:hover { transform: translate(-2px,-2px); border-color: var(--ink); box-shadow: 3px 3px 0 var(--ink); }
.skill-dot { width: 10px; height: 10px; border-radius: 50%; flex-shrink: 0; border: 2px solid rgba(26,26,26,.3); }
.skill-name { font-family: 'Oswald', sans-serif; font-size: .82rem; font-weight: 700; letter-spacing: .5px; flex: 1; }
.skill-level-dots { display: flex; gap: 3px; }
.sdot { width: 7px; height: 7px; border-radius: 50%; border: 1.5px solid rgba(26,26,26,.2); }
.sdot.filled { border-color: transparent; }

/* Vouches */
.vouch-list { display: flex; flex-direction: column; gap: .7rem; }
.vouch-item { display: flex; align-items: flex-start; gap: .75rem; }
.vouch-av {
  width: 32px; height: 32px; border: 2px solid var(--ink); flex-shrink: 0;
  display: flex; align-items: center; justify-content: center;
  font-family: 'Bangers', cursive; font-size: .75rem; letter-spacing: 1px;
  color: white;
}
.vouch-text { flex: 1; }
.vouch-name { font-family: 'Oswald', sans-serif; font-size: .78rem; font-weight: 700; color: var(--ink); }
.vouch-skill {
  font-size: .7rem; color: #666; font-style: italic;
  display: flex; align-items: center; gap: .3rem; margin-top: .1rem;
}
.vouch-check { color: var(--green); font-size: .65rem; }
.vouch-time { font-size: .62rem; color: #aaa; margin-top: .1rem; }

/* Complement match */
.match-card {
  border: 2px solid rgba(26,26,26,.08); background: white;
  padding: 1rem; transition: transform .2s, box-shadow .2s;
  cursor: none; margin-bottom: .7rem;
}
.match-card:last-child { margin-bottom: 0; }
.match-card:hover { transform: translate(-2px,-2px); box-shadow: 3px 3px 0 var(--ink); }
.match-head { display: flex; justify-content: space-between; align-items: center; margin-bottom: .6rem; }
.match-user { display: flex; align-items: center; gap: .6rem; }
.match-av {
  width: 30px; height: 30px; border: 2px solid var(--ink);
  display: flex; align-items: center; justify-content: center;
  font-family: 'Bangers', cursive; font-size: .7rem; color: white;
  flex-shrink: 0;
}
.match-name { font-family: 'Oswald', sans-serif; font-size: .8rem; font-weight: 700; }
.match-role { font-size: .65rem; color: #888; }
.match-pct {
  font-family: 'Bangers', cursive; font-size: 1rem; letter-spacing: 1px;
  color: var(--green);
}
.match-skills { display: flex; flex-wrap: wrap; gap: .3rem; }
.match-tag {
  font-size: .62rem; padding: .12rem .45rem;
  border: 1.5px solid rgba(26,26,26,.1); color: #555;
  font-style: italic;
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   ADD NODE MODAL
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.modal-overlay {
  position: fixed; inset: 0;
  background: rgba(26,26,26,.7);
  z-index: 999; display: none;
  align-items: center; justify-content: center;
  backdrop-filter: blur(4px);
}
.modal-overlay.open { display: flex; }
.modal {
  background: var(--bg);
  border: var(--border);
  box-shadow: 8px 8px 0 var(--ink);
  padding: 2rem; width: 380px; max-width: 90vw;
  position: relative;
  animation: popIn .3s cubic-bezier(.34,1.56,.64,1);
}
@keyframes popIn { from{transform:scale(.8);opacity:0} to{transform:scale(1);opacity:1} }
.modal-title {
  font-family: 'Bangers', cursive; font-size: 1.8rem; letter-spacing: 3px;
  margin-bottom: 1.5rem; color: var(--ink);
  text-shadow: 2px 2px 0 var(--yellow);
}
.modal label {
  font-family: 'Oswald', sans-serif; font-size: .7rem; font-weight: 700;
  letter-spacing: 2px; text-transform: uppercase;
  color: var(--ink); display: block; margin-bottom: .4rem; margin-top: 1rem;
}
.modal label:first-of-type { margin-top: 0; }
.modal input, .modal select {
  width: 100%; border: var(--border); background: white;
  padding: .6rem .8rem; font-family: 'DM Sans', sans-serif; font-size: .88rem;
  outline: none; cursor: none;
}
.modal input:focus, .modal select:focus { border-color: var(--red); box-shadow: 3px 3px 0 var(--yellow); }

/* color picker row */
.color-row { display: flex; gap: .5rem; margin-top: .5rem; flex-wrap: wrap; }
.color-opt {
  width: 28px; height: 28px; border: 3px solid transparent;
  border-radius: 50%; cursor: none; transition: transform .15s, border-color .15s;
}
.color-opt:hover { transform: scale(1.2); }
.color-opt.selected { border-color: var(--ink); transform: scale(1.2); }

.modal-btns { display: flex; gap: .75rem; margin-top: 1.5rem; }
.mbtn {
  font-family: 'Bangers', cursive; font-size: 1rem; letter-spacing: 2px;
  padding: .5rem 1.5rem; border: var(--border); cursor: none;
  transition: transform .15s, box-shadow .15s;
}
.mbtn.primary { background: var(--red); color: white; box-shadow: 3px 3px 0 var(--ink); }
.mbtn.primary:hover { transform: translate(-2px,-2px); box-shadow: 5px 5px 0 var(--ink); }
.mbtn.cancel { background: white; color: var(--ink); }
.mbtn.cancel:hover { background: var(--bg); }

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   NODE DETAIL TOOLTIP
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.node-detail {
  position: absolute; z-index: 50;
  background: white; border: var(--border);
  box-shadow: 5px 5px 0 var(--ink);
  padding: 1rem 1.2rem;
  min-width: 200px; pointer-events: none;
  display: none;
}
.nd-name { font-family: 'Bangers', cursive; font-size: 1.3rem; letter-spacing: 2px; color: var(--ink); }
.nd-level { font-family: 'Oswald', sans-serif; font-size: .7rem; font-weight: 700; letter-spacing: 2px; color: var(--red); text-transform: uppercase; }
.nd-dots { display: flex; gap: 4px; margin: .5rem 0; }
.nd-dot { width: 10px; height: 10px; border-radius: 50%; border: 2px solid rgba(26,26,26,.2); }
.nd-vouches { font-size: .75rem; color: #888; font-style: italic; }

/* â”€â”€ SPEECH BUBBLE in sidebar â”€â”€ */
.bubble-aside {
  background: white; border: 2px solid var(--ink);
  padding: .6rem .9rem;
  font-family: 'Permanent Marker', cursive;
  font-size: .72rem; line-height: 1.5; color: var(--ink);
  position: relative; margin-bottom: 1rem;
}
.bubble-aside::after {
  content: ''; position: absolute;
  bottom: -10px; left: 16px;
  border: 8px solid transparent;
  border-top-color: var(--ink);
}
.bubble-aside::before {
  content: ''; position: absolute;
  bottom: -7px; left: 18px; z-index: 1;
  border: 7px solid transparent;
  border-top-color: white;
}

/* â”€â”€ SFXS â”€â”€ */
.sfx-aside {
  font-family: 'Bangers', cursive;
  font-size: 2rem; letter-spacing: 2px;
  -webkit-text-stroke: 2px var(--ink);
  color: var(--yellow);
  text-shadow: 3px 3px 0 var(--red);
  transform: rotate(-5deg);
  display: inline-block;
  line-height: 1;
}

/* â”€â”€ BOTTOM â€” ACTIVITY STRIP â”€â”€ */
.activity-strip {
  border: var(--border);
  border-top: none;
  display: grid; grid-template-columns: auto 1fr;
}
.activity-label {
  background: var(--ink);
  border-right: var(--border);
  display: flex; align-items: center; justify-content: center;
  padding: 1rem 1.5rem; writing-mode: vertical-rl;
  font-family: 'Bangers', cursive; font-size: .9rem; letter-spacing: 3px;
  color: var(--yellow); text-shadow: 1px 1px 0 var(--red);
  transform: rotate(180deg);
  white-space: nowrap;
}
.activity-items {
  display: flex; overflow-x: auto; gap: 0;
  scrollbar-width: none;
}
.activity-items::-webkit-scrollbar { display: none; }
.activity-item {
  border-right: 2px solid rgba(26,26,26,.08);
  padding: 1rem 1.5rem; flex-shrink: 0; min-width: 200px;
  transition: background .2s;
}
.activity-item:hover { background: white; }
.ai-type {
  font-family: 'Oswald', sans-serif; font-size: .6rem; font-weight: 700;
  letter-spacing: 2px; text-transform: uppercase; margin-bottom: .4rem;
}
.ai-type.vouch { color: var(--green); }
.ai-type.level { color: var(--blue); }
.ai-type.match { color: var(--purple); }
.ai-text { font-size: .8rem; color: var(--ink); line-height: 1.4; }
.ai-time { font-size: .65rem; color: #aaa; margin-top: .3rem; font-style: italic; }

/* RESPONSIVE */
@media(max-width:960px){
  .profile-header{grid-template-columns:1fr;}
  .ph-right{display:none;}
  .content-grid{grid-template-columns:1fr;}
  .tree-panel{border-right:none;}
  .sidebar{border-top:var(--border);}
  .activity-strip{grid-template-columns:1fr;}
  .activity-label{display:none;}
}
</style>
</head>
<body>

<!-- cursor -->
<div id="cur">
  <svg viewBox="0 0 20 20" fill="none">
    <circle cx="10" cy="10" r="4" fill="#E63B3B"/>
    <circle cx="10" cy="10" r="8" stroke="#1A1A1A" stroke-width="2"/>
  </svg>
</div>

<!-- ADD NODE MODAL -->
<div class="modal-overlay" id="modal">
  <div class="modal">
    <div class="modal-title">+ ADD SKILL</div>
    <label>Skill name</label>
    <input type="text" id="skillName" placeholder="e.g. TypeScript"/>
    <label>Level (1â€“5)</label>
    <select id="skillLevel">
      <option value="1">Lv.1 â€” Beginner</option>
      <option value="2">Lv.2 â€” Familiar</option>
      <option value="3" selected>Lv.3 â€” Proficient</option>
      <option value="4">Lv.4 â€” Advanced</option>
      <option value="5">Lv.5 â€” Expert</option>
    </select>
    <label>Color</label>
    <div class="color-row" id="colorRow">
      <div class="color-opt selected" data-color="#E63B3B" style="background:#E63B3B"></div>
      <div class="color-opt" data-color="#5C3FB0" style="background:#5C3FB0"></div>
      <div class="color-opt" data-color="#1A7FC2" style="background:#1A7FC2"></div>
      <div class="color-opt" data-color="#2A9B7A" style="background:#2A9B7A"></div>
      <div class="color-opt" data-color="#F5C842" style="background:#F5C842"></div>
      <div class="color-opt" data-color="#E8849A" style="background:#E8849A"></div>
      <div class="color-opt" data-color="#E87C2A" style="background:#E87C2A"></div>
    </div>
    <div class="modal-btns">
      <button class="mbtn primary" id="addSkillBtn">ADD SKILL âš¡</button>
      <button class="mbtn cancel" id="cancelBtn">CANCEL</button>
    </div>
  </div>
</div>

<!-- NODE DETAIL TOOLTIP -->
<div class="node-detail" id="nodeDetail">
  <div class="nd-name" id="nd-name"></div>
  <div class="nd-level" id="nd-level"></div>
  <div class="nd-dots" id="nd-dots"></div>
  <div class="nd-vouches" id="nd-vouches"></div>
</div>

<div class="page-edge"></div>

<!-- NAV -->
<nav>
  <a href="LandingPage.html" class="logo">â¬¡ SkillForge</a>
  <div class="nav-r">
    <a href="#">Discover</a>
    <a href="#">Matches</a>
    <button class="nav-btn">EDIT PROFILE</button>
  </div>
</nav>

<div class="manga-page">

  <!-- â•â• PROFILE HEADER â•â• -->
  <div class="profile-header">
    <div class="ph-left st">
      <div class="avatar-wrap">
        <div class="avatar">AK</div>
        <div class="online-dot"></div>
        <div class="avatar-badge">LVL 34</div>
      </div>
      <div class="ph-rank">âš¡ RANK S</div>
      <div style="text-align:center;">
        <div style="font-family:'Bangers',cursive;font-size:1.8rem;letter-spacing:2px;color:var(--yellow);line-height:1;">247</div>
        <div style="font-family:'Oswald',sans-serif;font-size:.58rem;font-weight:700;letter-spacing:2px;text-transform:uppercase;color:rgba(245,240,232,.25);">XP THIS WEEK</div>
      </div>
    </div>

    <div class="ph-mid">
      <div class="sl-bg"></div>
      <div class="profile-name">NAMANA KANCHAN</div>
      <div class="profile-title">â—† Software engineer Â· Open to work</div>
      <div class="profile-bio">"Building things that matter. Always leveling up. Coffee-powered."</div>

      <div class="stat-bars">
        <div class="bar-row">
          <span class="bar-label">FRONTEND</span>
          <div class="bar-track"><div class="bar-fill" style="width:92%;background:#E63B3B;"></div></div>
          <span class="bar-val" style="color:#E63B3B;">92</span>
        </div>
        <div class="bar-row">
          <span class="bar-label">BACKEND</span>
          <div class="bar-track"><div class="bar-fill" style="width:78%;background:#1A7FC2;"></div></div>
          <span class="bar-val" style="color:#1A7FC2;">78</span>
        </div>
        <div class="bar-row">
          <span class="bar-label">DEVOPS</span>
          <div class="bar-track"><div class="bar-fill" style="width:55%;background:#2A9B7A;"></div></div>
          <span class="bar-val" style="color:#2A9B7A;">55</span>
        </div>
        <div class="bar-row">
          <span class="bar-label">ML / AI</span>
          <div class="bar-track"><div class="bar-fill" style="width:40%;background:#5C3FB0;"></div></div>
          <span class="bar-val" style="color:#5C3FB0;">40</span>
        </div>
      </div>
    </div>

    <div class="ph-right st">
      <div class="ph-stat">
        <span class="ph-stat-n" id="vs">0</span>
        <span class="ph-stat-l">Vouches</span>
      </div>
      <div class="ph-stat">
        <span class="ph-stat-n" id="ss">0</span>
        <span class="ph-stat-l">Skills</span>
      </div>
      <div class="ph-stat">
        <span class="ph-stat-n" id="ms">0</span>
        <span class="ph-stat-l">Matches</span>
      </div>
    </div>
  </div>

  <!-- â•â• CONTENT GRID â•â• -->
  <div class="content-grid">

    <!-- SKILL TREE PANEL -->
    <div class="tree-panel">
      <div class="tree-panel-header">
        <span class="tree-panel-title">â—† SKILL TREE</span>
        <div class="tree-controls">
          <button class="ctrl-btn add" id="btnAdd">+ ADD SKILL</button>
          <button class="ctrl-btn connect" id="btnConnect">âš¡ CONNECT MODE</button>
          <button class="ctrl-btn reset" id="btnReset">â†º RESET</button>
        </div>
      </div>
      <svg id="treesvg"></svg>
      <div class="tree-hint" id="treeHint">DRAG NODES Â· CLICK TO SELECT Â· ADD SKILL TO EXPAND YOUR TREE</div>
    </div>

    <!-- SIDEBAR -->
    <div class="sidebar">

      <!-- Speech bubble -->
      <div class="side-panel" style="background:var(--yellow);border-bottom:var(--border);">
        <div class="bubble-aside">
          12 vouches this month... my tree is growing! ğŸŒ±
        </div>
        <span class="sfx-aside">LEVEL UP!</span>
      </div>

      <!-- Skills list -->
      <div class="side-panel">
        <div class="side-panel-title">SKILLS</div>
        <div class="skill-list" id="skillList">
          <!-- populated by JS -->
        </div>
      </div>

      <!-- Vouches -->
      <div class="side-panel">
        <div class="side-panel-title">VOUCHES RECEIVED</div>
        <div class="vouch-list">
          <div class="vouch-item">
            <div class="vouch-av" style="background:#E63B3B;">SR</div>
            <div class="vouch-text">
              <div class="vouch-name">Sofia R.</div>
              <div class="vouch-skill"><span class="vouch-check">âœ“</span> Vouched React Â· Lv.4</div>
              <div class="vouch-time">2 days ago</div>
            </div>
          </div>
          <div class="vouch-item">
            <div class="vouch-av" style="background:#5C3FB0;">MK</div>
            <div class="vouch-text">
              <div class="vouch-name">Marcus K.</div>
              <div class="vouch-skill"><span class="vouch-check">âœ“</span> Vouched Node.js Â· Lv.4</div>
              <div class="vouch-time">5 days ago</div>
            </div>
          </div>
          <div class="vouch-item">
            <div class="vouch-av" style="background:#2A9B7A;">JP</div>
            <div class="vouch-text">
              <div class="vouch-name">Jamie P.</div>
              <div class="vouch-skill"><span class="vouch-check">âœ“</span> Vouched JavaScript Â· Lv.5</div>
              <div class="vouch-time">1 week ago</div>
            </div>
          </div>
        </div>
      </div>

      <!-- Matches -->
      <div class="side-panel">
        <div class="side-panel-title">COMPLEMENT MATCHES</div>
        <div class="match-card">
          <div class="match-head">
            <div class="match-user">
              <div class="match-av" style="background:linear-gradient(135deg,#5C3FB0,#E8849A);">LP</div>
              <div>
                <div class="match-name">Lisa Park</div>
                <div class="match-role">ML Engineer</div>
              </div>
            </div>
            <div class="match-pct">94%</div>
          </div>
          <div class="match-skills">
            <span class="match-tag">Python â†‘</span>
            <span class="match-tag">TensorFlow â†‘</span>
            <span class="match-tag">MLOps â†‘</span>
          </div>
        </div>
        <div class="match-card">
          <div class="match-head">
            <div class="match-user">
              <div class="match-av" style="background:linear-gradient(135deg,#1A7FC2,#2A9B7A);">JT</div>
              <div>
                <div class="match-name">James T.</div>
                <div class="match-role">DevOps Engineer</div>
              </div>
            </div>
            <div class="match-pct">87%</div>
          </div>
          <div class="match-skills">
            <span class="match-tag">K8s â†‘</span>
            <span class="match-tag">Terraform â†‘</span>
          </div>
        </div>
      </div>

    </div>
  </div>

  <!-- â•â• ACTIVITY STRIP â•â• -->
  <div class="activity-strip">
    <div class="activity-label">RECENT ACTIVITY</div>
    <div class="activity-items">
      <div class="activity-item">
        <div class="ai-type vouch">âœ“ VOUCHED</div>
        <div class="ai-text">Sofia R. vouched your <strong>React</strong> skill to Lv.4</div>
        <div class="ai-time">2 days ago</div>
      </div>
      <div class="activity-item">
        <div class="ai-type level">â†‘ LEVELED UP</div>
        <div class="ai-text">You leveled <strong>JavaScript</strong> up to Lv.5</div>
        <div class="ai-time">4 days ago</div>
      </div>
      <div class="activity-item">
        <div class="ai-type match">âš¡ MATCHED</div>
        <div class="ai-text">New complement match: <strong>Lisa Park</strong> (94%)</div>
        <div class="ai-time">1 week ago</div>
      </div>
      <div class="activity-item">
        <div class="ai-type vouch">âœ“ VOUCHED</div>
        <div class="ai-text">Marcus K. vouched your <strong>Node.js</strong> skill</div>
        <div class="ai-time">1 week ago</div>
      </div>
      <div class="activity-item">
        <div class="ai-type level">â†‘ ADDED SKILL</div>
        <div class="ai-text">Added <strong>Docker</strong> to your skill tree at Lv.3</div>
        <div class="ai-time">2 weeks ago</div>
      </div>
      <div class="activity-item">
        <div class="ai-type match">âš¡ MATCHED</div>
        <div class="ai-text">New complement match: <strong>James T.</strong> (87%)</div>
        <div class="ai-time">2 weeks ago</div>
      </div>
    </div>
  </div>

</div><!-- /manga-page -->
<div class="page-edge"></div>

<script>
/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   CURSOR
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
const cur = document.getElementById('cur');
document.addEventListener('mousemove', e => {
  cur.style.left = e.clientX + 'px';
  cur.style.top  = e.clientY + 'px';
});
document.querySelectorAll('a,button,.skill-item,.match-card,.activity-item,.d3-node,.color-opt').forEach(el => {
  el.addEventListener('mouseenter', () => document.body.classList.add('hov'));
  el.addEventListener('mouseleave', () => document.body.classList.remove('hov'));
});

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   COUNT-UP STATS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
function countUp(id, target, suffix='') {
  const el = document.getElementById(id);
  let v = 0; const step = target / 50;
  const t = setInterval(() => {
    v += step; if(v >= target) { v = target; clearInterval(t); }
    el.textContent = Math.floor(v) + suffix;
  }, 20);
}
setTimeout(() => { countUp('vs',12); countUp('ss',5); countUp('ms',8); }, 400);

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   D3 SKILL TREE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
const svgEl = document.getElementById('treesvg');
const W = svgEl.clientWidth || 700;
const H = svgEl.clientHeight || 560;

// Initial data (from tree.html)
let nodes = [
  { id:'JavaScript', level:5, color:'#E63B3B', vouches:12 },
  { id:'React',      level:4, color:'#5C3FB0', vouches:8  },
  { id:'Node',       level:4, color:'#1A7FC2', vouches:5  },
  { id:'SQL',        level:3, color:'#2A9B7A', vouches:3  },
  { id:'Docker',     level:3, color:'#F5C842', vouches:2  },
];
let links = [
  { source:'JavaScript', target:'React'  },
  { source:'JavaScript', target:'Node'   },
  { source:'Node',       target:'SQL'    },
  { source:'Node',       target:'Docker' },
];

// State
let connectMode = false;
let connectSource = null;
let selectedColor = '#E63B3B';

const svg = d3.select('#treesvg');

// Arrow marker
svg.append('defs').append('marker')
  .attr('id','arrow').attr('viewBox','0 -4 8 8')
  .attr('refX',14).attr('refY',0)
  .attr('markerWidth',5).attr('markerHeight',5)
  .attr('orient','auto')
  .append('path').attr('d','M0,-4L8,0L0,4').attr('fill','rgba(245,240,232,.2)');

// Groups
const gLink = svg.append('g');
const gNode = svg.append('g');

// Simulation
const sim = d3.forceSimulation()
  .force('link', d3.forceLink().id(d => d.id).distance(130))
  .force('charge', d3.forceManyBody().strength(-500))
  .force('center', d3.forceCenter(W/2, H/2))
  .force('collision', d3.forceCollide().radius(d => nodeR(d) + 20));

function nodeR(d) { return 14 + d.level * 5; }

function render() {
  // LINKS
  const linkSel = gLink.selectAll('.d3-link').data(links, d => `${d.source.id||d.source}-${d.target.id||d.target}`);
  linkSel.exit().transition().duration(300).style('opacity',0).remove();
  const linkEnter = linkSel.enter().append('line')
    .attr('class','d3-link')
    .style('opacity',0)
    .attr('marker-end','url(#arrow)');
  linkEnter.transition().duration(500).style('opacity',1);

  // NODES
  const nodeSel = gNode.selectAll('.d3-node').data(nodes, d => d.id);
  nodeSel.exit().transition().duration(300).style('opacity',0).remove();

  const nodeEnter = nodeSel.enter().append('g')
    .attr('class','d3-node')
    .style('opacity',0)
    .call(d3.drag()
      .on('start', dragStart)
      .on('drag', dragged)
      .on('end', dragEnd)
    )
    .on('click', onNodeClick)
    .on('mouseenter', onNodeHover)
    .on('mouseleave', onNodeLeave);

  // glow ring (pulse on root level 5)
  nodeEnter.append('circle')
    .attr('class','glow-ring')
    .attr('r', d => nodeR(d) + 8)
    .attr('fill', d => d.color)
    .attr('opacity', d => d.level >= 5 ? 0.12 : 0)
    .each(function(d) {
      if(d.level >= 5) {
        d3.select(this).append('animate')
          .attr('attributeName','r')
          .attr('values', `${nodeR(d)+4};${nodeR(d)+14};${nodeR(d)+4}`)
          .attr('dur','2.5s').attr('repeatCount','indefinite');
        d3.select(this).append('animate')
          .attr('attributeName','opacity')
          .attr('values','0.12;0;0.12')
          .attr('dur','2.5s').attr('repeatCount','indefinite');
      }
    });

  // main circle
  nodeEnter.append('circle')
    .attr('r', d => nodeR(d))
    .attr('fill', d => d.color)
    .attr('stroke', '#1A1A1A')
    .attr('stroke-width', 3);

  // screentone inner ring
  nodeEnter.append('circle')
    .attr('r', d => nodeR(d) - 5)
    .attr('fill', 'none')
    .attr('stroke', 'rgba(255,255,255,0.15)')
    .attr('stroke-width', 1.5)
    .attr('stroke-dasharray', '3,3');

  // label
  nodeEnter.append('text')
    .attr('class','d3-label')
    .attr('dy', d => d.level >= 4 ? -4 : 4)
    .text(d => d.id);

  // level text
  nodeEnter.filter(d => d.level >= 4).append('text')
    .attr('class','d3-level')
    .attr('dy', 10)
    .text(d => `LV.${d.level}`);

  // vouch badge
  nodeEnter.append('circle')
    .attr('class','vouch-badge-bg')
    .attr('r', 9)
    .attr('cx', d => nodeR(d) - 4)
    .attr('cy', d => -(nodeR(d) - 4))
    .attr('fill', '#F5C842')
    .attr('stroke','#1A1A1A').attr('stroke-width',2);

  nodeEnter.append('text')
    .attr('class','d3-vouch')
    .attr('x', d => nodeR(d) - 4)
    .attr('y', d => -(nodeR(d) - 4) + 1)
    .text(d => d.vouches || 0);

  nodeEnter.transition().duration(500)
    .style('opacity', 1)
    .attr('transform', d => `translate(${d.x||W/2},${d.y||H/2})`);

  // update sim
  sim.nodes(nodes);
  sim.force('link').links(links);
  sim.alpha(0.3).restart();

  // update skill list sidebar
  renderSkillList();
}

// tick
sim.on('tick', () => {
  gLink.selectAll('.d3-link')
    .attr('x1', d => d.source.x).attr('y1', d => d.source.y)
    .attr('x2', d => d.target.x).attr('y2', d => d.target.y);
  gNode.selectAll('.d3-node')
    .attr('transform', d => `translate(${d.x},${d.y})`);
});

// drag
function dragStart(event, d) {
  if(!event.active) sim.alphaTarget(.3).restart();
  d.fx = d.x; d.fy = d.y;
}
function dragged(event, d) { d.fx = event.x; d.fy = event.y; }
function dragEnd(event, d) {
  if(!event.active) sim.alphaTarget(0);
  d.fx = null; d.fy = null;
}

/* â”€â”€ NODE CLICK â”€â”€ */
function onNodeClick(event, d) {
  if(connectMode) {
    if(!connectSource) {
      // First node selected
      connectSource = d;
      d3.select(this).classed('connecting', true);
      document.getElementById('treeHint').textContent = `NOW CLICK ANOTHER NODE TO CONNECT TO "${d.id.toUpperCase()}"`;
    } else if(connectSource.id !== d.id) {
      // Second node â€” create link if not exists
      const exists = links.some(l =>
        (l.source.id||l.source) === connectSource.id && (l.target.id||l.target) === d.id ||
        (l.source.id||l.source) === d.id && (l.target.id||l.target) === connectSource.id
      );
      if(!exists) {
        links.push({ source: connectSource.id, target: d.id });
        render();
        flashSFX('LINKED!');
      }
      // Reset
      gNode.selectAll('.d3-node').classed('connecting', false);
      connectSource = null;
      document.getElementById('treeHint').textContent = 'CLICK ANOTHER NODE TO CONNECT Â· CLICK SAME NODE TO DESELECT';
    }
  } else {
    // Show detail
    gNode.selectAll('.d3-node').classed('selected', false);
    d3.select(this).classed('selected', true);
    showNodeDetail(d, event);
  }
}

function onNodeHover(event, d) {
  document.body.classList.add('hov');
}
function onNodeLeave() {
  document.body.classList.remove('hov');
}

/* â”€â”€ NODE DETAIL TOOLTIP â”€â”€ */
function showNodeDetail(d, event) {
  const nd = document.getElementById('nodeDetail');
  document.getElementById('nd-name').textContent = d.id;
  document.getElementById('nd-level').textContent = `LV.${d.level} â€” ${['','Beginner','Familiar','Proficient','Advanced','Expert'][d.level]}`;
  const dots = document.getElementById('nd-dots');
  dots.innerHTML = '';
  for(let i=1;i<=5;i++){
    const dot = document.createElement('div');
    dot.className = 'nd-dot' + (i<=d.level?' filled':'');
    if(i<=d.level) dot.style.background = d.color;
    dots.appendChild(dot);
  }
  document.getElementById('nd-vouches').textContent = `âœ¦ ${d.vouches||0} vouches from peers`;

  // position near node
  const rect = svgEl.getBoundingClientRect();
  nd.style.display = 'block';
  nd.style.left = (event.pageX - rect.left + 16) + 'px';
  nd.style.top  = (event.pageY - rect.top - 20) + 'px';
  setTimeout(() => {
    nd.style.display = 'none';
    gNode.selectAll('.d3-node').classed('selected', false);
  }, 3000);
}

/* â”€â”€ FLASH SFX â”€â”€ */
function flashSFX(text) {
  const el = document.createElement('div');
  el.style.cssText = `position:fixed;top:50%;left:50%;transform:translate(-50%,-50%) rotate(-8deg);
    font-family:'Bangers',cursive;font-size:5rem;letter-spacing:4px;
    color:#F5C842;-webkit-text-stroke:3px #1A1A1A;text-shadow:5px 5px 0 #E63B3B;
    pointer-events:none;z-index:9000;`;
  el.textContent = text;
  document.body.appendChild(el);
  gsap.fromTo(el, {scale:.5,opacity:0}, {scale:1.2,opacity:1,duration:.3,ease:'back.out(2)'});
  gsap.to(el, {scale:1.5,opacity:0,duration:.5,delay:.5,ease:'power2.in',onComplete:()=>el.remove()});
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   CONTROLS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
// ADD button â†’ open modal
document.getElementById('btnAdd').addEventListener('click', () => {
  document.getElementById('modal').classList.add('open');
  document.getElementById('skillName').focus();
});

// CONNECT MODE toggle
document.getElementById('btnConnect').addEventListener('click', () => {
  connectMode = !connectMode;
  connectSource = null;
  gNode.selectAll('.d3-node').classed('connecting',false).classed('selected',false);
  document.getElementById('btnConnect').classList.toggle('active', connectMode);
  document.getElementById('treeHint').textContent = connectMode
    ? 'CONNECT MODE ON â€” CLICK A NODE TO START CONNECTING'
    : 'DRAG NODES Â· CLICK TO SELECT Â· ADD SKILL TO EXPAND YOUR TREE';
  if(connectMode) flashSFX('CONNECT!');
});

// RESET
document.getElementById('btnReset').addEventListener('click', () => {
  nodes.forEach(d => { d.fx = null; d.fy = null; });
  sim.alpha(0.8).restart();
});

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   MODAL
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
// color picker
document.getElementById('colorRow').addEventListener('click', e => {
  const opt = e.target.closest('.color-opt');
  if(!opt) return;
  document.querySelectorAll('.color-opt').forEach(o => o.classList.remove('selected'));
  opt.classList.add('selected');
  selectedColor = opt.dataset.color;
});

// cancel
document.getElementById('cancelBtn').addEventListener('click', () => {
  document.getElementById('modal').classList.remove('open');
});
document.getElementById('modal').addEventListener('click', e => {
  if(e.target === document.getElementById('modal')) document.getElementById('modal').classList.remove('open');
});

// add skill
document.getElementById('addSkillBtn').addEventListener('click', () => {
  const name = document.getElementById('skillName').value.trim();
  if(!name) { document.getElementById('skillName').style.borderColor='#E63B3B'; return; }
  const level = parseInt(document.getElementById('skillLevel').value);
  const exists = nodes.find(n => n.id.toLowerCase() === name.toLowerCase());
  if(exists) { document.getElementById('skillName').style.borderColor='#E63B3B'; return; }

  nodes.push({ id: name, level, color: selectedColor, vouches: 0 });
  render();
  flashSFX('NEW SKILL!');
  document.getElementById('modal').classList.remove('open');
  document.getElementById('skillName').value = '';
  document.getElementById('skillLevel').value = '3';
});

// Enter key in input
document.getElementById('skillName').addEventListener('keydown', e => {
  if(e.key==='Enter') document.getElementById('addSkillBtn').click();
});

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   SKILL LIST SIDEBAR
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
const LEVEL_LABELS = ['','Beginner','Familiar','Proficient','Advanced','Expert'];
function renderSkillList() {
  const list = document.getElementById('skillList');
  list.innerHTML = '';
  [...nodes].sort((a,b)=>b.level-a.level).forEach(d => {
    const item = document.createElement('div');
    item.className = 'skill-item';
    const dots = Array.from({length:5},(_,i)=>`<div class="sdot${i<d.level?' filled':''}" style="${i<d.level?'background:'+d.color+';border-color:'+d.color:''}"></div>`).join('');
    item.innerHTML = `
      <div class="skill-dot" style="background:${d.color}"></div>
      <span class="skill-name">${d.id}</span>
      <div style="font-size:.68rem;color:#888;font-style:italic;margin-right:.5rem;">${LEVEL_LABELS[d.level]}</div>
      <div class="skill-level-dots">${dots}</div>
    `;
    list.appendChild(item);
  });
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   INIT
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
render();

// Animate stat bars on load
setTimeout(() => {
  document.querySelectorAll('.bar-fill').forEach(b => {
    const w = b.style.width;
    b.style.width = '0';
    setTimeout(() => b.style.width = w, 100);
  });
}, 300);

// Entrance animation
gsap.from('.profile-header', { y: -30, opacity: 0, duration: .8, ease: 'power3.out', delay: .1 });
gsap.from('.content-grid',   { y: 30,  opacity: 0, duration: .8, ease: 'power3.out', delay: .3 });
gsap.from('.activity-strip', { y: 20,  opacity: 0, duration: .7, ease: 'power2.out', delay: .5 });
</script>
</body>
</html>